language: node_js
sudo: false

node_js:
  - '0.10'
  - '4'
  - '5'

cache:
  directories:
    node_modules

after_script:
  npm run coverage

notifications:
  email:
    - thaddee.tyl@gmail.com
  irc: "irc.freenode.org#shields"

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-4.8
      - libcairo2-dev
      - libjpeg8-dev
      - libpango1.0-dev
      - libgif-dev
      - build-essential

env: CXX=g++-4.8

git:
  depth: 10

branches:
  except:
    - old-master
    - gh-responsibly
    - gh-pages
